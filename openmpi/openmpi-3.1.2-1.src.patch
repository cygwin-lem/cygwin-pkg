--- origsrc/openmpi-3.1.2/opal/mca/event/external/external.h	2018-08-22 16:57:38.000000000 +0200
+++ src/openmpi-3.1.2/opal/mca/event/external/external.h	2018-09-04 18:24:24.313132700 +0200
@@ -26,6 +26,10 @@
 #undef WIN32
 #endif
 
+#if defined(__CYGWIN__) && defined(WIN32)
+#undef WIN32
+#endif 
+
 #include "event.h"
 #include "event2/event.h"
 #include "event2/thread.h"
--- origsrc/openmpi-3.1.2/opal/mca/event/libevent2022/libevent/event.h	2018-08-22 16:57:38.000000000 +0200
+++ src/openmpi-3.1.2/opal/mca/event/libevent2022/libevent/event.h	2018-09-04 18:28:28.741811400 +0200
@@ -56,7 +56,7 @@ extern "C" {
 /* For int types. */
 #include <evutil.h>
 
-#ifdef WIN32
+#if defined(WIN32) && !defined(__CYGWIN__)
 #ifndef WIN32_LEAN_AND_MEAN
 #define WIN32_LEAN_AND_MEAN
 #endif
